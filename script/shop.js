let items = [
  {
    id: "001",
    image: "../image/1.PNG",
    company: "Carlton London",
    item_name: "THE GOOD FEELS CRACKED",
    original_price: 799,
    current_price: 343,
    discount_percentage: 57,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.3,
      count: 200,
    },
  },
  {
    id: "002",
    image: "../image/2.PNG",
    company: "Carlton London",
    item_name: "THE DINNER SET 2023",
    original_price: 579,
    current_price: 521,
    discount_percentage: 10,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.4,
      count: 1100,
    },
  },
  {
    id: "003",
    image: "../image/3.PNG",
    company: "Carlton London",
    item_name: "THE CANDLE-LIT DINNER KIT",
    original_price: 1249,
    current_price: 599,
    discount_percentage: 52,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.2,
      count: 1400,
    },
  },
  {
    id: "004",
    image: "../image/4.PNG",
    company: "Carlton London",
    item_name: "CHANGE THE COURSE COOKBOOK",
    original_price: 1749,
    current_price: 612,
    discount_percentage: 65,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.7,
      count: 1400,
    },
  },
  {
    id: "005",
    image: "../image/5.PNG",
    company: "Carlton London",
    item_name: "NOURISH $ SOOTHE BODY LOTION",
    original_price: 1699,
    current_price: 696,
    discount_percentage: 59,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.9,
      count: 1400,
    },
  },
  {
    id: "006",
    image: "../image/6.PNG",
    company: "Carlton London",
    item_name: "TWO GOOD CO. HOODIE",
    original_price: 2390,
    current_price: 1075,
    discount_percentage: 55,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.3,
      count: 1400,
    },
  },
  {
    id: "007",
    image: "../image/7.PNG",
    company: "Carlton London",
    item_name: "THE TWO GOOD BAG",
    original_price: 2999,
    current_price: 899,
    discount_percentage: 70,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.7,
      count: 1400,
    },
  },
  {
    id: "008",
    image: "../image/8.PNG",
    company: "Carlton London",
    item_name: "TWO GOOD SILK PILLOWCASE",
    original_price: 1899,
    current_price: 797,
    discount_percentage: 58,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 5.0,
      count: 2900,
    },
  },
  {
    id: "009",
    image: "../image/9.PNG",
    company: "Carlton London",
    item_name: "DONATE 100 MEALS",
    original_price: 1249,
    current_price: 562,
    discount_percentage: 55,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.3,
      count: 2500,
    },
  },
  {
    id: "010",
    image: "../image/10.PNG",
    company: "Carlton London",
    item_name: "GOOD FEELS MEAL",
    original_price: 899,
    current_price: 350,
    discount_percentage: 61,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.3,
      count: 4300,
    },
  },
  {
    id: "011",
    image: "../image/11.PNG",
    company: "Carlton London",
    item_name: "CLEANSE & HYDRATE SHAMPOO",
    original_price: 1699,
    current_price: 1104,
    discount_percentage: 35,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.6,
      count: 1400,
    },
  },
  {
    id: "012",
    image: "../image/12.PNG",
    company: "Carlton London",
    item_name: "NOURISH $ SOOTHE BODY LOTION",
    original_price: 697,
    current_price: 595,
    discount_percentage: 14,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.3,
      count: 1108,
    },
  },
  {
    id: "013",
    image: "../image/13.PNG",
    company: "Carlton London",
    item_name: "CLEANSE & NOURISH BODY WASH",
    original_price: 4999,
    current_price: 2699,
    discount_percentage: 46,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.0,
      count: 2000,
    },
  },
  {
    id: "014",
    image: "../image/14.PNG",
    company: "Carlton London",
    item_name: "TWO HUGS ROOM SPRAY",
    original_price: 3999,
    current_price: 2159,
    discount_percentage: 46,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.2,
      count: 4600,
    },
  },
  {
    id: "015",
    image: "../image/15.PNG",
    company: "Carlton London",
    item_name: "TWO GOOD PLATE SET",
    original_price: 999,
    current_price: 849,
    discount_percentage: 15,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.5,
      count: 1400,
    },
  },
  {
    id: "016",
    image: "../image/16.PNG",
    company: "Carlton London",
    item_name: "TWO HUGS CANDLE",
    original_price: 2949,
    current_price: 1032,
    discount_percentage: 65,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.5,
      count: 1400,
    },
  },
  {
    id: "017",
    image: "../image/17.PNG",
    company: "Carlton London",
    item_name: "TWO KISSES CANDLE",
    original_price: 2299,
    current_price: 1241,
    discount_percentage: 46,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.1,
      count: 3000,
    },
  },
  {
    id: "018",
    image: "../image/18.PNG",
    company: "Carlton London",
    item_name: "HARDWOOD CUTTING BOARD XL",
    original_price: 2499,
    current_price: 1349,
    discount_percentage: 46,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.3,
      count: 1500,
    },
  },
  {
    id: "019",
    image: "../image/19.PNG",
    company: "Carlton London",
    item_name: "EMILY IMESON TEA TOWEL",
    original_price: 1500,
    current_price: 808,
    discount_percentage: 46,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 3.5,
      count: 1400,
    },
  },
  {
    id: "020",
    image: "../image/20.PNG",
    company: "Carlton London",
    item_name: "DONATE 10 MEALS",
    original_price: 2299,
    current_price: 1333,
    discount_percentage: 42,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.3,
      count: 6900,
    },
  },
  {
    id: "021",
    image: "../image/21.PNG",
    company: "Carlton London",
    item_name: "DONATE A MEAL TO A WOMEN'S SHELTER",
    original_price: 2299,
    current_price: 1241,
    discount_percentage: 46,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.1,
      count: 1000,
    },
  },
  {
    id: "022",
    image: "../image/22.PNG",
    company: "Carlton London",
    item_name: "GIFT MESSAGE",
    original_price: 4799,
    current_price: 2591,
    discount_percentage: 46,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.0,
      count: 2700,
    },
  },
  {
    id: "023",
    image: "../image/23.PNG",
    company: "Carlton London",
    item_name: "NOURISH & SOOTHE BODY LOTION 5L",
    original_price: 3599,
    current_price: 1979,
    discount_percentage: 45,
    return_period: 14,
    delivery_date: "10 Oct 2023",
    rating: {
      stars: 4.8,
      count: 3800,
    },
  },
];
let bagItems;
onLoad();
function onLoad() {
  let bagItemsStr = localStorage.getItem("bagItems");
  bagItems = bagItemsStr ? JSON.parse(bagItemsStr) : [];
  displayItemsOnHomePage();
  displayBagIcon();
}

function addToBag(itemId) {
  bagItems.push(itemId);
  localStorage.setItem("bagItems", JSON.stringify(bagItems));
  displayBagIcon();
}

function displayBagIcon() {
  let bagItemCountElement = document.querySelector(".bag-item-count");
  if (bagItems.length > 0) {
    bagItemCountElement.style.visibility = "visible";
    bagItemCountElement.innerText = bagItems.length;
  } else {
    bagItemCountElement.style.visibility = "hidden";
  }
}

function displayItemsOnHomePage() {
  let itemsContainerElement = document.querySelector(".items-container");
  if (!itemsContainerElement) {
    return;
  }

  let innerHTML = ``;
  items.forEach((item) => {
    innerHTML += `
                 <div class="item-container">
                    <img data-scroll data-scroll-speed="1" class="item-image" src="${item.image}" loading="lazy" alt="Item image">
                    <div class="rating">${item.rating.stars} ⭐ | ${item.rating.count}</div>
                    <div class="company-name">${item.company}</div>
                    <div class="item-name">${item.item_name}</div>
                    <div class="price">
                        <span class="current-prize">${item.current_price}</span>
                        <span class="original-prize">${item.original_price}</span>
                        <span class="discount">(${item.discount_percentage}% OFF)</span>
                    </div>
                    <button type="button" class="btn-add-bag" onclick="addToBag(${item.id})">Add to Bag</button>
                </div>
`;
    itemsContainerElement.innerHTML = innerHTML;
  });
}


let success = document.querySelectorAll(".btn-add-bag");
let toastBox = document.querySelector("#toastBox");

success.forEach((data) => {
  data.addEventListener("click", function showToast(data) {
    let toast = document.createElement("div");
    toast.classList.add("toast");
    toast.innerHTML = `✅ Successfully Added`;
    toast.classList.add("success");
    toastBox.appendChild(toast);
    // console.log("fxn is executing");

    setTimeout(() => {
      toast.remove();
    }, 5000);
  });
});
